<!DOCTYPE html>
<html lang="en" dir="ltr">
<head th:replace="Layouts/fragmentos :: cabeza">
<meta charset="utf-8">

</head>
<body>

	<input type="checkbox" id="check">
	<!--header area start-->
	<div class="cabeza" th:replace="Layouts/fragmentos :: Primerfragment"></div>
	<!--header area end-->
	<div class="mobile_nav" th:replace="Layouts/fragmentos :: Segundofragment"></div>
	<!--sidebar start-->
	<div class="sidebar" th:replace="Layouts/fragmentos :: Tercerfragment"></div>
	<!--sidebar end-->

	<div class="content">	
	<div class="container mt-4">
      	<form th:action="@{/usuario/form}" th:object="${usuario}" method="post" class="needs-validation" novalidate>
					<div class="card">
						<div class="card-header bg-info text-white">Datos del Usuario</div>
						<div class="card-body">
							<div class="row">
								
								<div class="col-md-6 mb-3">
									<label>Usuario:</label> <input th:field="*{nombre}" type="text"
										class="form-control" placeholder="Ingrese nombre"
										required="required" />
									<div class="invalid-feedback">Ingrese el nombre</div>
								</div>
								<div class="col-md-6 mb-3">
									<label>Contraseña:</label> <input th:field="*{contrasena}"
										type="password" class="form-control"
										placeholder="Ingrese descripción" required="required" />
									<div class="invalid-feedback">Ingrese los apellidos</div>
								</div>
							</div>
							<br>
								<div class="row">
								<div class="col-12 text-center">
									<button type="submit" class="btn btn-dark">
										<i class="fas fa-save"></i> Guardar Usuario
									</button>
								</div>
							</div>
						</div>
					</div>
				</form>
				<br>
				<div class="card">
					<div class="card-header bg-info text-white">Categorías Registradas</div>
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-bordered table-hover">
							 	<thead class="thead-dark">
								  <tr>
								   	<th scope="col">#</th>
									  <th scope="col">Nombre</th>
									  <th scope="col">Descripción</th>
									  <th scope="col"></th>
								  </tr>
							 	</thead>
							 	<tbody>
								  <tr th:each="item: ${listaUsuario}">
								   	<th th:text="${item.id}"></th>
								   	<td th:text="${item.nombre}"></td>
								   	<td th:text="${item.contrasena}"></td>
								   	<td class="text-center">
								   		<a href="#" th:id="${item.id}" th:param1="${item.nombre}" th:param2="${item.contrasena}" class="btn btn-warning editarUsuario"><i class="fas fa-edit"></i> Editar</a>
								   	</td>
								  </tr>
							 	</tbody>
							</table>
						</div>
					</div>
				</div>				
	      </div>
	      
	     <div id= "editarUsuario" class="modal fade" tabindex="-1"
				role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"
				data-backdrop="static">

				<div class="modal-dialog modal-lg" role="document">

					<div class="modal-content">

						<div class="modal-header bg-info text-white">

							<h5 class="modal-title">Editar Categoría</h5>

							<button type="button" class="close" data-dismiss="modal"
								aria-label="Close">

								<span aria-hidden="true">&times;</span>

							</button>

						</div>

						<form method="post" th:action="@{/usuario/form}"
							th:object="${usuario}" class="needs-validation" novalidate>

							<input type="hidden" th:field="*{id}" />

							<div class="modal-body" id="modalMensaje">

								<div class="form-row">

									<div class="col-12 mb-3">

										<label>Nombre:</label> <input name="nombre" id="txtNombre"
											type="text" class="form-control" placeholder="Ingrese nombre"
											minlength="1" maxlength="50" required="required" />
											
										<label>Dirección:</label> <input name="contrasena" id="txtDireccion"
											type="password" class="form-control" placeholder="Ingrese dirección"
											minlength="1" maxlength="50" required="required" />	
											
										
										<div class="invalid-feedback">Nombre inválido</div>

									</div>

								</div>


							</div>

							<div class="modal-footer">

								<button type="button" class="btn btn-secondary"
									data-dismiss="modal">
									<i class="fas fa-ban"></i> Cancelar
								</button>

								<button class="btn btn-dark" type="submit">
									<i class="fas fa-save"></i> Guardar Cambios
								</button>

							</div>

						</form>

					</div>

				</div>

			</div>
	</div>

	<script type="text/javascript" th:src="@{/js/usuario.js}"></script>
	<script type="text/javascript" th:src="@{/js/nav.js}"></script>

</body>
</html>